<!DOCTYPE html>

<html>
<head>
  <title>eweda.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>eweda.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <pre><code>eweda.js 0.0.1
https://github.com/CrossEye/eweda
(c) 2013 Scott Sauyet and Michael Hurley
Eweda may be freely distributed under the MIT license.</code></pre>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h2>Eweda</h2>
<p>A practical functional library for Javascript programmers.  This is a collection of tools to make it easier to
use Javascript as a functional programming language.  (The name is just a silly play on <code>lambda</code>, even though we&#39;re
not actually involved in lambda expressions.)</p>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <h2>Basic Setup</h2>
<p>Uses a technique from the <a href="https://github.com/umdjs/umd/blob/master/returnExports.js">Universal Module Definition</a> to wrap this up for use in Node.js or in the browser,
with or without an AMD-style loader.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
(<span class="function"><span class="keyword">function</span> <span class="params">(root, factory)</span> {</span><span class="keyword">if</span> (<span class="keyword">typeof</span> exports === <span class="string">'object'</span>) {module.exports = factory(root);} <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">'function'</span> &amp;&amp; define.amd) {define(factory);} <span class="keyword">else</span> {root.eweda = factory(root);}}(<span class="keyword">this</span>, <span class="function"><span class="keyword">function</span> <span class="params">(global)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>The basic implementation of lists is replaceable.  A default one based on arrays is supplied at the bottom.
<code>bootstrap</code> represents that implementation.  Descriptions of the required functions are in the Core Functions
section.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">var</span> lib = <span class="keyword">function</span>(bootstrap) {</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>This function is what is actually returned, with all the exposed functions attached as properties.  That allows</p>
<pre><code>var myLib = eweda({
    EMPTY: /* ... */,
    isAtom: /* ... */,
    /* ... */
});
var result = myLib.map(someFunction, someCollection);</code></pre>
<p>where <code>someCollection</code> is built to match the style of collection described by the parameter to the first call.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="keyword">var</span> E = <span class="keyword">function</span>() {<span class="keyword">return</span> lib.apply(<span class="keyword">this</span>, arguments);};</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <h2>Internal Functions and Properties</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="keyword">var</span> undef = (<span class="keyword">function</span>(){})(), EMPTY;</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Makes a public alias for one of the public functions:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> aliasFor = <span class="keyword">function</span>(oldName) {
            <span class="keyword">var</span> fn = <span class="keyword">function</span>(newName) {E[newName] = E[oldName]; <span class="keyword">return</span> fn;};
            <span class="keyword">return</span> (fn.is = fn.are = fn.and = fn);
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Partial replacement for native <code>bind</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> bind = <span class="keyword">function</span>(fn, context) {
            <span class="keyword">var</span> args = Array.prototype.slice.call(arguments, <span class="number">2</span>);
            <span class="keyword">return</span> <span class="keyword">function</span>() {
                <span class="keyword">return</span> fn.apply(context || <span class="keyword">this</span>, args.concat(Array.prototype.slice.call(arguments)));
            };
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Standard Array and Object methods implemented as pure functions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> slice = bind(Function.prototype.call, Array.prototype.slice);
        <span class="keyword">var</span> toString = bind(Function.prototype.call, Object.prototype.toString);
        <span class="keyword">var</span> isArray = <span class="keyword">function</span>(val) {<span class="keyword">return</span> toString(val) === <span class="string">"[object Array]"</span>;};</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Fills out an array to the specified length</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> expand = <span class="keyword">function</span>(a, len) {
            <span class="keyword">var</span> arr = a ? isArray(a) ? a : slice(a) : [];
            <span class="keyword">while</span>(arr.length &lt; len) {arr[arr.length] = undef;}
            <span class="keyword">return</span> arr;
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Local version of partial application.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> _ = <span class="keyword">function</span>(fn) {
            <span class="keyword">var</span> arity = fn.length;
            <span class="keyword">var</span> f = <span class="keyword">function</span>(args) {
                <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
                    <span class="keyword">var</span> newArgs = (args || []).concat(slice(arguments, <span class="number">0</span>));
                    <span class="keyword">if</span> (newArgs.length &gt;= arity) {
                        <span class="keyword">return</span> fn.apply(<span class="keyword">this</span>, newArgs);
                    }
                    <span class="keyword">else</span> {<span class="keyword">return</span> f(newArgs);}
                };
            };

            <span class="keyword">return</span> f([]);
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Internal version of <code>forEach</code>.  Possibly to be exposed later.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> each = _(<span class="keyword">function</span>(fn, arr) {
            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = arr.length; i &lt; len; i++) {
                fn(arr[i]);
            }
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Internal function used to simplify some calculations</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> addOne = <span class="keyword">function</span>(n) {<span class="keyword">return</span> n + <span class="number">1</span>;};</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <h2>Core Functions Supplied</h2>
<p>Local copies of the basic list functions supplied in the initial parameter.  Almost all of these become
public.</p>

            </div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>  Prototypical (or only) empty list</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        EMPTY = bootstrap.EMPTY;</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Boolean function which reports whether a list is empty.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> isEmpty = E.isEmpty = bootstrap.isEmpty;</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Returns a new list with the new element at the front and the existing elements following</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> prepend = E.prepend = bootstrap.prepend;
        aliasFor(<span class="string">"prepend"</span>).is(<span class="string">"cons"</span>); <span class="comment">// TODO: really?</span></pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p> Returns the first element of a list</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> head = E.head = bootstrap.head;
        aliasFor(<span class="string">"head"</span>).is(<span class="string">"car"</span>);  <span class="comment">// TODO: really? sure! positively?</span></pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Returns the rest of the list after the first element.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> tail = E.tail = bootstrap.tail;
        aliasFor(<span class="string">"tail"</span>).is(<span class="string">"cdr"</span>);  <span class="comment">// TODO: really? absolutely! without doubt?</span></pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>  Boolean function which is <code>true</code> for non-list, <code>false</code> for a list.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> isAtom = E.isAtom = bootstrap.isAtom;</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <h2>Core Functions Derived</h2>
<p>These functions are also considered part of the core, but can be derived from the primary ones.
However, if an implementation is supplied, it will be used instead.</p>

            </div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Returns a new list with the new element at the end of a list following all the existing ones.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.append = bootstrap.append || <span class="keyword">function</span>(el, list) {
            <span class="keyword">return</span> reverse(prepend(el, reverse(list)));
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>Returns a new list consisting of the elements of the first list followed by the elements of the second.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> merge = E.merge = bootstrap.merge || _(<span class="keyword">function</span>(list1, list2) {
            <span class="keyword">return</span> (isEmpty(list1)) ? list2 :  prepend(head(list1), merge(tail(list1), list2));
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <h2>Function functions :-)</h2>
<p>These functions make new functions out of old ones.</p>

            </div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Creates a new function that runs each of the functions supplied as parameters in turn, passing the output
of each one to the next one, starting with whatever arguments were passed to the initial invocation.
Note that if <code>var h = compose(f, g)</code>, <code>h(x)</code> calls <code>g(x)</code> first, passing the result of that to <code>f()</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> compose = E.compose = <span class="keyword">function</span>() {  <span class="comment">// TODO: type check of arguments?</span>
            <span class="keyword">var</span> fns = slice(arguments);
            <span class="keyword">return</span> <span class="keyword">function</span>() {
                <span class="keyword">return</span> foldr(<span class="keyword">function</span>(fn, args) {<span class="keyword">return</span> [fn.apply(<span class="keyword">this</span>, args)];}, slice(arguments), fns)[<span class="number">0</span>];
            }
        };
        aliasFor(<span class="string">"compose"</span>).is(<span class="string">"fog"</span>); <span class="comment">// TODO: really?</span></pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Similar to <code>compose</code>, but processes the functions in the reverse order so that if if <code>var h = pipe(f, g)</code>,
<code>h(x)</code> calls <code>f(x)</code> first, passing the result of that to <code>g()</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> pipe = E.pipe = <span class="keyword">function</span>() { <span class="comment">// TODO: type check of arguments?</span>
            <span class="keyword">return</span> compose.apply(<span class="keyword">this</span>, slice(arguments).reverse());
        };
        aliasFor(<span class="string">"pipe"</span>).is(<span class="string">"sequence"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>Returns a new function much like the supplied one except that the first two arguments are inverted.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> flip = E.flip = <span class="keyword">function</span>(fn) {
            <span class="keyword">return</span> _(<span class="keyword">function</span>(a, b) {
                <span class="keyword">return</span> fn.apply(<span class="keyword">this</span>, [b, a].concat(slice(arguments, <span class="number">2</span>)));
            });
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>Creates a new function that acts like the supplied function except that the left-most parameters are
pre-filled.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> lPartial = E.lPartial = <span class="function"><span class="keyword">function</span> <span class="params">(fn)</span> {</span>
            <span class="keyword">var</span> args = slice(arguments, <span class="number">1</span>);
            <span class="keyword">return</span> <span class="keyword">function</span>() {
                <span class="keyword">return</span> fn.apply(<span class="keyword">this</span>, args.concat(slice(arguments)));
            };
        };
        aliasFor(<span class="string">"lPartial"</span>).is(<span class="string">"applyLeft"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>Creates a new function that acts like the supplied function except that the right-most parameters are
pre-filled.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> rPartial = E.rPartial =<span class="function"><span class="keyword">function</span> <span class="params">(fn)</span> {</span>
            <span class="keyword">var</span> args = slice(arguments, <span class="number">1</span>);
            <span class="keyword">return</span> <span class="keyword">function</span>() {
                <span class="keyword">return</span> fn.apply(<span class="keyword">this</span>, slice(arguments).concat(args));
            };
        };
        aliasFor(<span class="string">"rPartial"</span>).is(<span class="string">"applyRight"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>Creates a new function that stores the results of running the supplied function and returns those
stored value when the same request is made.  <strong>Note</strong>: this really only handles string and number parameters.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.memoize = <span class="keyword">function</span>(fn) {
            <span class="keyword">var</span> cache = {};
            <span class="keyword">return</span> <span class="keyword">function</span>() {
                <span class="keyword">var</span> position = foldl(<span class="keyword">function</span>(cache, arg) {<span class="keyword">return</span> cache[arg] || (cache[arg] = {});}, cache,
                        slice(arguments, <span class="number">0</span>, arguments.length - <span class="number">1</span>));
                <span class="keyword">var</span> arg = arguments[arguments.length - <span class="number">1</span>];
                <span class="keyword">return</span> (position[arg] || (position[arg] = fn.apply(<span class="keyword">this</span>, arguments)));
            };
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>Wraps a function up in one that will only call the internal one once, no matter how many times the outer one
is called.  <strong> Note</strong>: this is not really pure; it&#39;s mostly meant to keep side-effects from repeating.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.once = <span class="keyword">function</span>(fn) {
            <span class="keyword">var</span> called = <span class="literal">false</span>, result;
            <span class="keyword">return</span> <span class="keyword">function</span>() {
                <span class="keyword">if</span> (called) {<span class="keyword">return</span> result;}
                called = <span class="literal">true</span>;
                <span class="keyword">return</span> (result = fn.apply(<span class="keyword">this</span>, arguments));
            }
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>Wrap a function inside another to allow you to make adjustments to the parameters or do other processing
either before the internal function is called or with its results.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.wrap = <span class="keyword">function</span>(fn, wrapper) {
            <span class="keyword">return</span> <span class="keyword">function</span>() {
                <span class="keyword">return</span> wrapper.apply(<span class="keyword">this</span>, [fn].concat(slice(arguments)));
            };
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <h2>List Functions</h2>
<p>These functions operate on lists.  The implementation of lists is not specified here, although a default
implementation based on arrays is supplied at the bottom.  Almost all of these are curried, and the list
parameter comes last, so you can create a new function by supplying the preceding arguments, leaving the
list parameter off.  For instance:</p>
<pre><code>// skip third parameter
var checkAllPredicates = reduce(andFn, alwaysTrue);
// ... given suitable definitions of odd, lt20, gt5
var test = checkAllPredicates([odd, lt20, gt5]);
// test(7) =&gt; true, test(9) =&gt; true, test(10) =&gt; false,
// test(3) =&gt; false, test(21) =&gt; false,</code></pre>

            </div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>Returns a single item, by successively calling the function with the current element and the the next
element of the list, passing the result to the next call.  We start with the <code>acc</code> parameter to get
things going.  The function supplied should accept this running value and the latest element of the list,
and return an updated value.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> foldl = E.foldl = _(bootstrap.foldl || <span class="keyword">function</span>(fn, acc, list) {
            <span class="keyword">return</span> (isEmpty(list)) ? acc : foldl(fn, fn(acc, head(list)), tail(list));
        });
        aliasFor(<span class="string">"foldl"</span>).is(<span class="string">"reduce"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>Returns a new list constructed by applying the function to every element of the list supplied.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> map = E.map = _(bootstrap.map || <span class="keyword">function</span>(fn, list) {
            <span class="keyword">return</span> reverse(foldl(<span class="keyword">function</span>(acc, x) { <span class="keyword">return</span> prepend(fn(x), acc); }, EMPTY, list));
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>Much like <code>foldl</code>/<code>reduce</code>, except that this takes as its starting value the first element in the list.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> foldl1 = E.foldl1 = _(bootstrap.foldl1 || <span class="function"><span class="keyword">function</span> <span class="params">(fn, list)</span> {</span>
            <span class="keyword">if</span> (isEmpty(list)) {
                <span class="keyword">throw</span> <span class="keyword">new</span> Error(<span class="string">"foldl1 does not work on empty lists"</span>);
            }
            <span class="keyword">return</span> foldl(fn, head(list), tail(list));
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>Similar to <code>foldl</code>/<code>reduce</code> except that it moves from right to left on the list.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> foldr = E.foldr =_(bootstrap.foldr || <span class="keyword">function</span>(fn, acc, list) {
            <span class="keyword">return</span> (isEmpty(list)) ? acc : fn(head(list), foldr(fn, acc, tail(list)));
        });
        aliasFor(<span class="string">"foldr"</span>).is(<span class="string">"reduceRight"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>Much like <code>foldr</code>/<code>reduceRight</code>, except that this takes as its starting value the last element in the list.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> foldr1 = E.foldr1 = _(bootstrap.foldr1 || <span class="function"><span class="keyword">function</span> <span class="params">(fn, list)</span> {</span>
            <span class="keyword">if</span> (isEmpty(list)) {
                <span class="keyword">throw</span> <span class="keyword">new</span> Error(<span class="string">"foldr1 does not work on empty lists"</span>);
            }
            <span class="keyword">var</span> rev = reverse(list);
            <span class="keyword">return</span> foldr(fn, head(rev), reverse(tail(rev)));
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>Builds a list from a seed value, using a function that returns <code>undefined</code> to quit and a pair otherwise,
consisting of the current value and the seed to be used for the next value.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="keyword">var</span> unfoldr = E.unfoldr = _(bootstrap.unfoldr || <span class="keyword">function</span>(fn, seed) {
            <span class="keyword">var</span> pair = fn(seed);
            <span class="keyword">return</span> pair ? prepend(head(pair), unfoldr(fn, head(tail(pair)))) : EMPTY;
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>Reports the number of elements in the list</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> size = E.size = bootstrap.size || foldl(addOne, <span class="number">0</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>Returns a new list containing only those items that match a given predicate function.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> filter = E.filter = _(bootstrap.filter || <span class="keyword">function</span>(fn, list) {
            <span class="keyword">return</span> foldr(<span class="keyword">function</span>(x, acc) { <span class="keyword">return</span> (fn(x)) ? prepend(x, acc) : acc; }, EMPTY, list);
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>Similar to <code>filter</code>, except that it keeps only those that <strong>don&#39;t</strong> match the given predicate functions.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.reject = _(bootstrap.reject || <span class="keyword">function</span>(fn, list) {
            <span class="keyword">return</span> filter(notFn(fn), list);
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>Returns a new list containing the elements of the given list up until the first one where the function
supplied returns <code>false</code> when passed the element.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> takeWhile = E.takeWhile = _(bootstrap.takeWhile || <span class="keyword">function</span>(fn, list) {
            <span class="keyword">return</span> (isEmpty(list) || !fn(head(list))) ? EMPTY : prepend(head(list), takeWhile(fn, tail(list)));
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p>Returns a new list containing the first <code>n</code> elements of the given list.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> take = E.take = _(bootstrap.take || <span class="keyword">function</span>(n, list) {
            <span class="keyword">return</span> takeWhile((<span class="keyword">function</span>() {<span class="keyword">var</span> count = <span class="number">0</span>; <span class="keyword">return</span> <span class="keyword">function</span>(x) {<span class="keyword">return</span> count++ <span class="xml"><span class="tag">&lt; <span class="attribute">n</span>;};}()), <span class="attribute">list</span>);
        });

</span></pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p>Returns a new list containing the elements of the given list starting with the first one where the function
supplied returns <code>false</code> when passed the element.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> skipUntil = E.skipUntil = _(bootstrap.skipUntil || <span class="keyword">function</span>(fn, list) {
            <span class="keyword">return</span> isEmpty(list) ? EMPTY : fn(head(list)) ? list : skipUntil(fn, tail(list));
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p>Returns a new list containing all <strong>but</strong> the first <code>n</code> elements of the given list.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> skip = E.skip = _(bootstrap.skip || <span class="keyword">function</span>(n, list) {</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <p>return isEmpty(list) ? EMPTY : (n &gt; 0) ? skip(n - 1, tail(list)) : list;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="keyword">return</span> skipUntil((<span class="keyword">function</span>() {<span class="keyword">var</span> count = <span class="number">0</span>; <span class="keyword">return</span> <span class="keyword">function</span>(x) {<span class="keyword">return</span> count++ &gt;= n;};}()), list);
        });
        aliasFor(<span class="string">'skip'</span>).is(<span class="string">'drop'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p>Returns the first element of the list which matches the predicate, or <code>false</code> if no element matches.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> find = E.find = _(bootstrap.find || <span class="keyword">function</span>(fn, list) {
            <span class="keyword">var</span> h = head(list);
            <span class="keyword">return</span> (isEmpty(list)) ? <span class="literal">false</span> : fn(h) ? h : find(fn, tail(list));
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <p>Returns <code>true</code> if all elements of the list match the predicate, <code>false</code> if there are any that don&#39;t.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> all = E.all = _(bootstrap.all || <span class="function"><span class="keyword">function</span> <span class="params">(fn, list)</span> {</span>
            <span class="keyword">return</span> (isEmpty(list)) ? <span class="literal">true</span> : fn(head(list)) &amp;&amp; all(fn, tail(list));
        });
        aliasFor(<span class="string">"all"</span>).is(<span class="string">"every"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              <p>Returns <code>true</code> if any elements of the list match the predicate, <code>false</code> if none do.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> any = E.any = _(bootstrap.any || <span class="keyword">function</span>(fn, list) {
            <span class="keyword">return</span> (isEmpty(list)) ? <span class="literal">false</span> : fn(head(list)) || any(fn, tail(list));
        });
        aliasFor(<span class="string">"any"</span>).is(<span class="string">"some"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <p>Returns <code>true</code> if the list contains the sought element, <code>false</code> if it does not.  Equality is strict here,
meaning reference equality for objects and non-coercing equality for primitives.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> contains = E.contains = _(bootstrap.contains || <span class="keyword">function</span>(a, lat) {
            <span class="keyword">return</span> (isEmpty(lat)) ? <span class="literal">false</span> : head(lat) === a || contains(a, tail(lat));
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-52">&#182;</a>
              </div>
              <p>Returns a new list containing only one copy of each element in the original list.  Equality is strict here,
meaning reference equality for objects and non-coercing equality for primitives.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> uniq = E.uniq = bootstrap.uniq || <span class="keyword">function</span>(list) {
            <span class="keyword">return</span> foldr(<span class="keyword">function</span>(x, acc) { <span class="keyword">return</span> (contains(x, acc)) ? acc : prepend(x, acc); }, EMPTY, list);
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-53">&#182;</a>
              </div>
              <p>Returns a new list by plucking the same named property off all objects in the list supplied.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.pluck = bootstrap.pluck || <span class="keyword">function</span>(p) {<span class="keyword">return</span> map(prop(p));};</pre></div></div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-54">&#182;</a>
              </div>
              <p>Returns a list that contains a flattened version of the supplied list.  For example:</p>
<pre><code>flatten([1, 2, [3, 4], 5, [6, [7, 8, [9, [10, 11], 12]]]]);
// =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> flatten = E.flatten = <span class="keyword">function</span>(list) {
            <span class="keyword">var</span> h = head(list), t = tail(list);
            <span class="keyword">return</span> isEmpty(list) ? EMPTY : (isAtom(h)) ? prepend(h, flatten(t)) : merge(flatten(h), flatten(t));
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-55">&#182;</a>
              </div>
              <p>Creates a new list out of the two supplied by applying the function to each equally-positioned pair in the
lists.  For example,</p>
<pre><code>zipWith(f, [1, 2, 3], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])
//    =&gt; [f(1, &#39;a&#39;), f(2, &#39;b&#39;), f(3, &#39;c&#39;)];</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> zipWith = E.zipWith = _(bootstrap.zipWith || <span class="keyword">function</span>(fn, a, b) {
            <span class="keyword">return</span> (isEmpty(a) || isEmpty(b)) ? EMPTY : prepend(fn(head(a), head(b)), zipWith(fn, tail(a), tail(b)));
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-56">&#182;</a>
              </div>
              <p>Creates a new list out of the two supplied by yielding the pair of each equally-positioned pair in the
lists.  For example,</p>
<pre><code>zip([1, 2, 3], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])
//    =&gt; [[1, &#39;a&#39;], [2, &#39;b&#39;], [3, &#39;c&#39;]];</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> zip = E.zip = bootstrap.zip || zipWith(prepend);</pre></div></div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-57">&#182;</a>
              </div>
              <p>Creates a new list out of the two supplied by applying the function to each possible pair in the lists.
 For example,</p>
<pre><code>xProdWith(f, [1, 2], [&#39;a&#39;, &#39;b&#39;])
//    =&gt; [f(1, &#39;a&#39;), f(1, &#39;b&#39;), f(2, &#39;a&#39;), f(2, &#39;b&#39;)];</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> xprodWith = E.xprodWith = _(bootstrap.xprodWith || <span class="keyword">function</span>(fn, a, b) {
            <span class="keyword">return</span> (isEmpty(a) || isEmpty(b)) ? EMPTY : foldl1(merge, map(<span class="keyword">function</span>(z) {<span class="keyword">return</span> map(_(fn)(z), b);}, a));
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-58">&#182;</a>
              </div>
              <p>Creates a new list out of the two supplied by yielding the pair of each possible pair in the lists.
For example,</p>
<pre><code>xProd([1, 2], [&#39;a&#39;, &#39;b&#39;])
//    =&gt; [[1, &#39;a&#39;], [1, &#39;b&#39;)], [2, &#39;a&#39;], [2, &#39;b&#39;]];</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.xprod = bootstrap.xprod || xprodWith(prepend);</pre></div></div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-59">&#182;</a>
              </div>
              <p>Returns a new list with the same elements as the original list, just in the reverse order.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> reverse = E.reverse = bootstrap.reverse || foldl(flip(prepend), EMPTY);</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-60">&#182;</a>
              </div>
              <p>// Returns a list of numbers from <code>from</code> (inclusive) to <code>to</code> (exclusive).
For example, </p>
<pre><code>range(1, 5) // =&gt; [1, 2, 3, 4]
range(50, 53) // =&gt; [50, 51, 52]</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> range = E.range = _(bootstrap.range || <span class="keyword">function</span>(from, to) {
            <span class="keyword">return</span> from &gt;= to ? EMPTY : prepend(from, range(from + <span class="number">1</span>, to));
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-61">&#182;</a>
              </div>
              <h2>Object Functions</h2>
<p>These functions operate on plain Javascript object, adding simple functions to test properties on these
objects.  Many of these are of most use in conjunction with the list functions, operating on lists of
objects.</p>

            </div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-62">&#182;</a>
              </div>
              <p>Runs the given function with the supplied object, then returns the object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> tap = E.tap = _(<span class="keyword">function</span>(x, fn) {
            <span class="keyword">if</span> (<span class="keyword">typeof</span> fn === <span class="string">"function"</span>) {
                fn(x);
            }
            <span class="keyword">return</span> x;
        });
        aliasFor(<span class="string">"tap"</span>).is(<span class="string">"K"</span>); <span class="comment">// TODO: are we sure?</span></pre></div></div>
            
        </li>
        
        
        <li id="section-63">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-63">&#182;</a>
              </div>
              <p>Tests if two items are equal.  Equality is strict here, meaning reference equality for objects and
non-coercing equality for primitives.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.eq = _(<span class="keyword">function</span>(a, b) {
            <span class="keyword">return</span> a === b;
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-64">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-64">&#182;</a>
              </div>
              <p>Returns a function that when supplied an object returns the indicated property of that object, if it exists.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> prop = E.prop = <span class="keyword">function</span>(p) {<span class="keyword">return</span> <span class="keyword">function</span>(obj) {<span class="keyword">return</span> obj[p];};};</pre></div></div>
            
        </li>
        
        
        <li id="section-65">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-65">&#182;</a>
              </div>
              <p>Returns a function that when supplied an object returns the result of running the indicated function on
that object, if it has such a function.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.func = <span class="keyword">function</span>(n) {<span class="keyword">return</span> <span class="keyword">function</span>(obj) {<span class="keyword">return</span> obj[n].apply(obj, slice(arguments, <span class="number">1</span>));};};</pre></div></div>
            
        </li>
        
        
        <li id="section-66">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-66">&#182;</a>
              </div>
              <p>Returns a function that when supplied a property name returns that property on the indicated object, if it
exists.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> props = E.props = <span class="keyword">function</span>(obj) {
            <span class="keyword">return</span> <span class="keyword">function</span>(prop) {<span class="keyword">return</span> obj &amp;&amp; obj[prop];};
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-67">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-67">&#182;</a>
              </div>
              <p>Returns a function that always returns the given value.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> identity = E.identity = <span class="keyword">function</span>(val) {
            <span class="keyword">return</span> <span class="keyword">function</span>() {<span class="keyword">return</span> val;};
        };

        <span class="keyword">var</span> anyBlanks = any(<span class="keyword">function</span>(val) {<span class="keyword">return</span> val === <span class="literal">null</span> || val === undef;});</pre></div></div>
            
        </li>
        
        
        <li id="section-68">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-68">&#182;</a>
              </div>
              <p>Returns a function that will only call the indicated function if the correct number of (defined, non-null)
arguments are supplied, returning <code>undefined</code> otherwise.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.maybe = <span class="function"><span class="keyword">function</span> <span class="params">(fn)</span> {</span>
            <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
                <span class="keyword">return</span> (arguments.length === <span class="number">0</span> || anyBlanks(expand(arguments, fn.length))) ? undef : fn.apply(<span class="keyword">this</span>, arguments);
            };
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-69">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-69">&#182;</a>
              </div>
              <p>A functional version of <code>Object.keys</code>, returning a list containing the names of all the enumerable own
properties of the supplied object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> keys = E.keys = <span class="keyword">function</span>(obj) {
            <span class="keyword">var</span> results = EMPTY;
            <span class="keyword">for</span> (<span class="keyword">var</span> name <span class="keyword">in</span> obj) {<span class="keyword">if</span> (obj.hasOwnProperty(name)) {
                results = prepend(name, results);
            }}
            <span class="keyword">return</span> reverse(results);
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-70">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-70">&#182;</a>
              </div>
              <p>Returns a list of all the enumerable own properties of the supplied object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.values = <span class="keyword">function</span>(obj) {
            <span class="keyword">return</span> map(props(obj), keys(obj));
        };

        <span class="keyword">var</span> partialCopy = <span class="keyword">function</span>(test, obj) {
            <span class="keyword">var</span> copy = {};
            each(<span class="keyword">function</span>(key) {<span class="keyword">if</span> (test(key, obj)) {copy[key] = obj[key];}}, keys(obj));
            <span class="keyword">return</span> copy;
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-71">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-71">&#182;</a>
              </div>
              <p>Returns a partial copy of an object containing only the keys specified.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.pick = _(<span class="keyword">function</span>(names, obj) {
            <span class="keyword">return</span> partialCopy(<span class="keyword">function</span>(key) {<span class="keyword">return</span> contains(key, names);}, obj);
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-72">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-72">&#182;</a>
              </div>
              <p>Returns a partial copy of an object omitting the keys specified.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.omit = _(<span class="keyword">function</span>(names, obj) {
            <span class="keyword">return</span> partialCopy(<span class="keyword">function</span>(key) {<span class="keyword">return</span> !contains(key, names);}, obj);
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-73">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-73">&#182;</a>
              </div>
              <h2>Logic Functions</h2>
<p>These functions are very simple wrappers around the built-in logical operators, useful in building up
more complex functional forms.</p>

            </div>
            
        </li>
        
        
        <li id="section-74">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-74">&#182;</a>
              </div>
              <p>A function wrapping the boolean <code>&amp;&amp;</code> operator.  Note that unlike the underlying operator, though, it
aways returns <code>true</code> or <code>false</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> and = E.and = _(<span class="function"><span class="keyword">function</span> <span class="params">(a, b)</span> {</span>
            <span class="keyword">return</span> !!(a &amp;&amp; b);
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-75">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-75">&#182;</a>
              </div>
              <p>A function wrapping the boolean <code>||</code> operator.  Note that unlike the underlying operator, though, it
aways returns <code>true</code> or <code>false</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> or = E.or = _(<span class="function"><span class="keyword">function</span> <span class="params">(a, b)</span> {</span>
            <span class="keyword">return</span> !!(a || b);
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-76">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-76">&#182;</a>
              </div>
              <p>A function wrapping the boolean <code>!</code> operator.  It returns <code>true</code> if the parameter is false-y and <code>false</code> if
the parameter is truth-y</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.not = <span class="function"><span class="keyword">function</span> <span class="params">(a)</span> {</span>
            <span class="keyword">return</span> !a;
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-77">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-77">&#182;</a>
              </div>
              <p>A function wrapping calls to the two functions in an <code>&amp;&amp;</code> operation, returning <code>true</code> or <code>false</code>.  Note that
this is short-circuited, meaning that the second function will not be invoked if the first returns a false-y
value.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.andFn = _(<span class="keyword">function</span>(f, g) { <span class="comment">// TODO: arity?</span>
           <span class="keyword">return</span> <span class="keyword">function</span>() {<span class="keyword">return</span> !!(f.apply(<span class="keyword">this</span>, arguments) &amp;&amp; g.apply(<span class="keyword">this</span>, arguments));};
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-78">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-78">&#182;</a>
              </div>
              <p>A function wrapping calls to the two functions in an <code>||</code> operation, returning <code>true</code> or <code>false</code>.  Note that
this is short-circuited, meaning that the second function will not be invoked if the first returns a truth-y
value. (Note also that at least Oliver Twist can pronounce this one...)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.orFn = _(<span class="keyword">function</span>(f, g) { <span class="comment">// TODO: arity?</span>
           <span class="keyword">return</span> <span class="keyword">function</span>() {<span class="keyword">return</span> !!(f.apply(<span class="keyword">this</span>, arguments) || g.apply(<span class="keyword">this</span>, arguments));};
        });</pre></div></div>
            
        </li>
        
        
        <li id="section-79">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-79">&#182;</a>
              </div>
              <p>A function wrapping a call to the given function in a <code>!</code> operation.  It will return <code>true</code> when the
underlying function would return a false-y value, and <code>false</code> when it would return a truth-y one.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> notFn = E.notFn = <span class="function"><span class="keyword">function</span> <span class="params">(f)</span> {</span>
            <span class="keyword">return</span> <span class="keyword">function</span>() {<span class="keyword">return</span> !f.apply(<span class="keyword">this</span>, arguments);};
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-80">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-80">&#182;</a>
              </div>
              <h2>Arithmetic Functions</h2>
<p>These functions wrap up the certain core arithmetic operators</p>

            </div>
            
        </li>
        
        
        <li id="section-81">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-81">&#182;</a>
              </div>
              <p>Adds two numbers.  Automatic curried:</p>
<pre><code>var add7 = add(7);
add7(10); // =&gt; 17</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> add = E.add = _(<span class="keyword">function</span>(a, b) {<span class="keyword">return</span> a + b;});</pre></div></div>
            
        </li>
        
        
        <li id="section-82">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-82">&#182;</a>
              </div>
              <p>Multiplies two numbers.  Automatically curried:</p>
<pre><code>var mult3 = multiply(3);
mult3(7); // =&gt; 21</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> multiply = E.multiply = _(<span class="keyword">function</span>(a, b) {<span class="keyword">return</span> a * b;});</pre></div></div>
            
        </li>
        
        
        <li id="section-83">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-83">&#182;</a>
              </div>
              <p>Subtracts the second parameter from the first.  This is automatically curried, and while at times the curried
version might be useful, often the curried version of <code>subtractN</code> might be what&#39;s wanted.</p>
<pre><code>var hundredMinus = subtract(100);
hundredMinus(20) ; // =&gt; 80</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> subtract = E.subtract = _(<span class="keyword">function</span>(a, b) {<span class="keyword">return</span> a - b;});</pre></div></div>
            
        </li>
        
        
        <li id="section-84">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-84">&#182;</a>
              </div>
              <p>Reversed version of <code>subtract</code>, where first parameter is subtracted from the second.  The curried version of
this one might me more useful than that of <code>subtract</code>.  For instance:</p>
<pre><code>var decrement = subtractN(1);
decrement(10); // =&gt; 9;</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.subtractN = flip(subtract);</pre></div></div>
            
        </li>
        
        
        <li id="section-85">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-85">&#182;</a>
              </div>
              <p>Divides the first parameter by the second.  This is automatically curried, and while at times the curried
version might be useful, often the curried version of <code>divideBy</code> might be what&#39;s wanted.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">var</span> divide = E.divide = _(<span class="keyword">function</span>(a, b) {<span class="keyword">return</span> a / b;});</pre></div></div>
            
        </li>
        
        
        <li id="section-86">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-86">&#182;</a>
              </div>
              <p>Reversed version of <code>divide</code>, where the second parameter is divided by the first.  The curried version of
this one might be more useful than that of <code>divide</code>.  For instance:</p>
<pre><code>var half = divideBy(2);
half(42); // =&gt; 21</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.divideBy = flip(divide);</pre></div></div>
            
        </li>
        
        
        <li id="section-87">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-87">&#182;</a>
              </div>
              <p>Adds together all the elements of a list.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.sum = foldl(add, <span class="number">0</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-88">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-88">&#182;</a>
              </div>
              <p>Multiplies together all the elements of a list.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.product = foldl(multiply, <span class="number">1</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-89">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-89">&#182;</a>
              </div>
              <h2>Miscellaneous Functions</h2>
<p>A few functions in need of a good home.</p>

            </div>
            
        </li>
        
        
        <li id="section-90">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-90">&#182;</a>
              </div>
              <p>Expose the functions from eweda as properties on another object.  If this object is the global object, then
it will be as though the eweda functions are global functions.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.installTo = <span class="keyword">function</span>(obj) {
            each(<span class="keyword">function</span>(key) {
                (obj || global)[key] = E[key];
            })(keys(E));
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-91">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-91">&#182;</a>
              </div>
              <p>A function that always returns <code>0</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.alwaysZero = identity(<span class="number">0</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-92">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-92">&#182;</a>
              </div>
              <p>A function that always returns <code>false</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.alwaysFalse = identity(<span class="literal">false</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-93">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-93">&#182;</a>
              </div>
              <p>A function that always returns <code>true</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.alwaysTrue = identity(<span class="literal">true</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-94">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-94">&#182;</a>
              </div>
              <p>Concatenates together all the elements of a list.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.join = foldl(add, <span class="string">''</span>);

        <span class="keyword">return</span> E;
    };

    <span class="keyword">return</span> lib(<span class="keyword">function</span>() {
        <span class="keyword">var</span> EMPTY = [];</pre></div></div>
            
        </li>
        
        
        <li id="section-95">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-95">&#182;</a>
              </div>
              <h2>Default Core Functions</h2>
<p>The default core uses simple arrays for its lists</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">return</span> {
            EMPTY: EMPTY,
            isEmpty: <span class="keyword">function</span>(arr) {
                <span class="keyword">return</span> !arr || !arr.length;
            },
            prepend: <span class="keyword">function</span>(el, arr) {
                <span class="keyword">return</span> [el].concat(arr);
            },
            head: <span class="keyword">function</span>(arr) {
                arr = arr || EMPTY;
                <span class="keyword">return</span> (arr.length) ? arr[<span class="number">0</span>] : EMPTY; <span class="comment">// TODO: shouldn't head(EMPTY) return null?</span>
            },
            tail: <span class="keyword">function</span>(arr) {
                arr = arr || EMPTY;
                <span class="keyword">return</span> (arr.length &gt; <span class="number">1</span>) ? arr.slice(<span class="number">1</span>) : EMPTY;
            },
            isAtom: <span class="keyword">function</span>(x) {
                <span class="keyword">return</span> (x !== <span class="literal">null</span>) &amp;&amp; (x !== <span class="literal">undefined</span>) &amp;&amp; Object.prototype.toString.call(x) !== <span class="string">"[object Array]"</span>;
            },
            size: <span class="keyword">function</span>(arr) {
                <span class="keyword">return</span> arr.length;
            }
        };
    }());
}));</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
